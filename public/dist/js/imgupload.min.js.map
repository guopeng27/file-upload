{"version":3,"sources":["imgupload.es"],"names":["filesFilter","_html","$","change","e","files","target","push","i","length","reader","FileReader","readAsDataURL","onload","result","html","click","formData","FormData","each","index1","fileList","index2","file","append","ajax","url","type","data","cache","processData","contentType","success","msg","console","log","error","responseStr"],"mappings":"YAIA,IAAIA,eACJ,IAAIC,OAAQ,EACZC,GAAE,UAAUC,OAAO,SAASC,GAExB,GAAIC,GAAQD,EAAEE,OAAOD,KACrBL,aAAYO,KAAKF,EACjB,KAAI,GAAIG,GAAI,EAAEA,EAAEH,EAAMI,OAAOD,IAAI,CAC7B,GAAIE,GAAS,GAAIC,WACjBD,GAAOE,cAAcP,EAAMG,GAC3BE,GAAOG,OAAS,SAAUT,GACtBH,OAAS,sCAAuCG,EAAEE,OAAOQ,OAAQ,MACjEZ,GAAE,YAAYa,KAAKd,UAM/BC,GAAE,OAAOc,MAAM,WACX,GAAIC,GAAW,GAAIC,SACnBhB,GAAEF,aAAamB,KAAK,SAASC,EAAOC,GAChC,GAAGA,EAASZ,OAAS,EAAG,CACpBP,EAAEmB,GAAUF,KAAK,SAASG,EAAOC,GAC7BN,EAASO,OAAO,OAAOJ,EAAOE,EAAQC,SAEzC,CACDN,EAASO,OAAO,OAAOJ,EAAQC,EAAS,MAGhDnB,GAAEuB,MACEC,IAAM,UACNC,KAAO,OACPC,KAAOX,EACPY,MAAO,MACPC,YAAa,MACbC,YAAa,MACbC,QAAU,QAAAA,GAASC,GACfC,QAAQC,IAAIF,IAEhBG,MAAQ,QAAAA,GAASC","file":"imgupload.min.js","sourcesContent":["/**\r\n * Created by Administrator on 2016/10/25.\r\n */\r\n\r\nlet filesFilter = [];\r\nlet _html = '';\r\n$('#upBtn').change(function(e){\r\n    //e.dataTransfer.files\r\n    let files = e.target.files;\r\n    filesFilter.push(files);\r\n    for(let i = 0;i<files.length;i++){\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(files[i]);\r\n        reader.onload = function (e) {\r\n            _html += '<img width=\"100\" height=\"100\" src=\"'+ e.target.result +'\" />';\r\n            $('#preView').html(_html)\r\n        }\r\n\r\n    }\r\n\r\n});\r\n$('#up').click(function(){\r\n    var formData = new FormData();\r\n    $(filesFilter).each(function(index1,fileList){\r\n        if(fileList.length > 1 ){\r\n            $(fileList).each(function(index2,file){\r\n                formData.append(\"file\"+index1+index2, file);\r\n            });\r\n        }else{\r\n            formData.append(\"file\"+index1, fileList[0]);\r\n        }\r\n    });\r\n    $.ajax({\r\n        url : '/upload',\r\n        type : 'POST',\r\n        data : formData,\r\n        cache: false,\r\n        processData: false,\r\n        contentType: false,\r\n        success : function(msg) {\r\n            console.log(msg)\r\n        },\r\n        error : function(responseStr) {\r\n\r\n        }\r\n    });\r\n});"]}